#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Sun Apr 18 13:48:09 2021

@author: abhishek
"""

from linkedin import linkedin

# =============================================================================
# API_KEY = '861r5s6eu968jk'
# API_SECRET = 'E0LoDI9ShHoHCPOl'
# RETURN_URL = 'https://www.google.com/'
# url='https%3A%2F%2Fwww.google.com%2F'
# 
# =============================================================================

#https://www.linkedin.com/developers/apps/verification/c1381235-191c-486f-8bdf-ee2d7ccaf5b8
redirectURI = "https://www.google.com/"
URLENCODE = """https%3A%2F%2Fwww.google.com%2F"""
clientId = '861r5s6eu968jk'
clientSecret = 'E0LoDI9ShHoHCPOl'

url=f"https://accounts.google.com/o/oauth2/auth?redirect_uri={URLENCODE}&response_type=code&client_id={clientId}&scope=https%3A%2F%2Fmail.google.com%2F&approval_prompt=force"


url=f"https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id={clientId}&redirect_uri={URLENCODE}&state=foobar&scope=r_liteprofile%20r_emailaddress%20w_member_social"



code="AQRJA1tch1w4gNj1T6W2f-ycq3EVO0lXHq2WMdKZcs60WxicN8uoWW13jRVo552uJ7PoXyzwPghlZcE1frbn2SH8913hm12iPyTlXkPlJ7iz2nCBTssfITnghpxfPQHHl17pG1tfYWuDSuNDIyAgoWCZNJwfLygrmPviZoZpsTZX7HWpvq-UWb9YjKgjqTZ74605fiMXvgztEacoADs"


state="foobar"

curl -X POST -H "content-type: application/x-www-form-urlencoded" -d "grant_type=authorization_code&code=AQTfmGax0fpLY-nI8RljLkQC7a__hPAZyDYT0rFzMT3L3he4dTtMHFiJTICwEmTytbjbffW3ORHd8QO6NW8ureMK6_6nTvmrnXpPKulTzgCS05XRq1rhDaOCknsBcLFyoN7EPkcTEUuzRac1a6hq_e5yfSd3fmBbUzs4d-wImAJRW18SRvomdg9xDDYmMu8XgWFLq37ru7UvaX6LKvo&redirect_uri=https%3A%2F%2Fwww.google.com%2F&client_id=861r5s6eu968jk&client_secret=E0LoDI9ShHoHCPOl" "https://accounts.google.com/o/oauth2/token"

curl -ik -X POST https://www.linkedin.com/oauth/v2/accessToken \
-d grant_type=authorization_code \
-d code=AQRJA1tch1w4gNj1T6W2f-ycq3EVO0lXHq2WMdKZcs60WxicN8uoWW13jRVo552uJ7PoXyzwPghlZcE1frbn2SH8913hm12iPyTlXkPlJ7iz2nCBTssfITnghpxfPQHHl17pG1tfYWuDSuNDIyAgoWCZNJwfLygrmPviZoZpsTZX7HWpvq-UWb9YjKgjqTZ74605fiMXvgztEacoADs \
-d redirect_uri=https%3A%2F%2Fwww.google.com%2F \
-d client_id=861r5s6eu968jk \
-d client_secret=E0LoDI9ShHoHCPOl


{
 "access_token":"AQW7X1e2kVsxuxt8JjEqh9F87MEDZHJwkrOBhOLtQrJnKUZQgkiHPO4KyEcqcLxPZ3cZPaAqBJUPSQRc4VoH7l5TjVs5R4igaGYVqztQmprIl-XHw4wUU9p0vN9Y4_RkSCRqjL4gNdMq67CUKl24X5RT-vCUkOs1SZgaSiKHJv-tr76Dt9mDpmQnP3W6PwwXVL9AZHHeiQYQmG9pVem81W-pqiE3meQFC5XBZo5kruyhLxdkAxxbQAI_DktxHRUPmCP8XJG_Xc-q05yCDvpEfpasFqI4bN0f4NibKo3BHoEazD7xKB1PcsIck1i8_tGHMj4rYqc5i2iSECoS29EaAkPeq54bKg","expires_in":5184000} 



access_token="AQW7X1e2kVsxuxt8JjEqh9F87MEDZHJwkrOBhOLtQrJnKUZQgkiHPO4KyEcqcLxPZ3cZPaAqBJUPSQRc4VoH7l5TjVs5R4igaGYVqztQmprIl-XHw4wUU9p0vN9Y4_RkSCRqjL4gNdMq67CUKl24X5RT-vCUkOs1SZgaSiKHJv-tr76Dt9mDpmQnP3W6PwwXVL9AZHHeiQYQmG9pVem81W-pqiE3meQFC5XBZo5kruyhLxdkAxxbQAI_DktxHRUPmCP8XJG_Xc-q05yCDvpEfpasFqI4bN0f4NibKo3BHoEazD7xKB1PcsIck1i8_tGHMj4rYqc5i2iSECoS29EaAkPeq54bKg"






curl https://api.linkedin.com/v2/me -H "Authorization: Bearer AQW7X1e2kVsxuxt8JjEqh9F87MEDZHJwkrOBhOLtQrJnKUZQgkiHPO4KyEcqcLxPZ3cZPaAqBJUPSQRc4VoH7l5TjVs5R4igaGYVqztQmprIl-XHw4wUU9p0vN9Y4_RkSCRqjL4gNdMq67CUKl24X5RT-vCUkOs1SZgaSiKHJv-tr76Dt9mDpmQnP3W6PwwXVL9AZHHeiQYQmG9pVem81W-pqiE3meQFC5XBZo5kruyhLxdkAxxbQAI_DktxHRUPmCP8XJG_Xc-q05yCDvpEfpasFqI4bN0f4NibKo3BHoEazD7xKB1PcsIck1i8_tGHMj4rYqc5i2iSECoS29EaAkPeq54bKg"



{"localizedLastName":"Panigrahi","profilePicture":{"displayImage":"urn:li:digitalmediaAsset:C5603AQGqJwfIwknK2g"},"firstName":{"localized":{"en_US":"Abhishek"},"preferredLocale":{"country":"US","language":"en"}},"lastName":{"localized":{"en_US":"Panigrahi"},"preferredLocale":{"country":"US","language":"en"}},"id":"UP6T4_inB7","localizedFirstName":"Abhishek"}
